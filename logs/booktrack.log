2025-11-14T14:43:50.208-05:00  INFO 33548 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : Starting BookTrackApplication using Java 21.0.7 with PID 33548 (/Users/lifenzito/Book_Track/target/classes started by lifenzito in /Users/lifenzito/Book_Track)
2025-11-14T14:43:50.211-05:00  INFO 33548 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-14T14:43:50.225-05:00  INFO 33548 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-14T14:43:50.226-05:00  INFO 33548 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-14T14:43:50.469-05:00  INFO 33548 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-14T14:43:50.492-05:00  INFO 33548 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 7 JPA repository interfaces.
2025-11-14T14:43:50.685-05:00  INFO 33548 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-14T14:43:50.691-05:00  INFO 33548 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-14T14:43:50.691-05:00  INFO 33548 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-14T14:43:50.703-05:00  INFO 33548 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-14T14:43:50.703-05:00  INFO 33548 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 477 ms
2025-11-14T14:43:50.761-05:00  INFO 33548 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-14T14:43:50.782-05:00  INFO 33548 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-14T14:43:50.793-05:00  INFO 33548 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-14T14:43:50.876-05:00  INFO 33548 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-14T14:43:50.886-05:00  INFO 33548 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-14T14:43:50.947-05:00  INFO 33548 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@102360d9
2025-11-14T14:43:50.948-05:00  INFO 33548 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-14T14:43:50.965-05:00  WARN 33548 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14T14:43:50.965-05:00  WARN 33548 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-14T14:43:50.971-05:00  INFO 33548 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-14T14:43:51.425-05:00  INFO 33548 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-14T14:43:51.479-05:00  INFO 33548 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-14T14:43:51.659-05:00  INFO 33548 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-14T14:43:51.659-05:00  WARN 33548 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14T14:43:51.670-05:00  INFO 33548 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-14T14:43:52.189-05:00  WARN 33548 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14T14:43:52.383-05:00  INFO 33548 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/BookTrack?useSSL=false&serverTimezone=UTC'
2025-11-14T14:43:52.410-05:00  INFO 33548 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-14T14:43:52.423-05:00  INFO 33548 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-14T14:43:52.426-05:00  INFO 33548 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : Started BookTrackApplication in 2.345 seconds (process running for 2.48)
2025-11-14T14:44:02.093-05:00  INFO 33548 --- [http-nio-8080-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-14T14:44:02.094-05:00  INFO 33548 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-14T14:44:02.095-05:00  INFO 33548 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-11-14T14:46:04.978-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.AuthController         : Solicitud de login recibida para AdminUPB@upb.edu.co
2025-11-14T14:46:05.145-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.AuthService       : Usuario AdminUPB@upb.edu.co inició sesión
2025-11-14T14:46:09.052-05:00  INFO 33548 --- [http-nio-8080-exec-9] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:46:09.070-05:00  INFO 33548 --- [http-nio-8080-exec-2] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:46:14.128-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 11
2025-11-14T14:46:14.175-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "cien años de soledad". por AdminUPB@upb.edu.co
2025-11-14T14:46:14.175-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro cien años de soledad - Gabriel Garcia M (ID=11)
2025-11-14T14:46:14.390-05:00  WARN 33548 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:46:14.390-05:00 ERROR 33548 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`reserva`, CONSTRAINT `FKs0btp5fbwnoq9es29m9ndwpt3` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:46:14.395-05:00  WARN 33548 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`reserva`, CONSTRAINT `FKs0btp5fbwnoq9es29m9ndwpt3` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:46:16.038-05:00  INFO 33548 --- [http-nio-8080-exec-5] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por AdminUPB@upb.edu.co
2025-11-14T14:46:16.051-05:00  INFO 33548 --- [http-nio-8080-exec-7] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por AdminUPB@upb.edu.co
2025-11-14T14:46:16.721-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:16.737-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:17.222-05:00  INFO 33548 --- [http-nio-8080-exec-10] c.P.B.Controllers.ActividadController    : Listado de actividad solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:17.244-05:00  INFO 33548 --- [http-nio-8080-exec-1] c.P.B.Controllers.ActividadController    : Listado de actividad solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:18.249-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.ActividadController    : Descarga de log solicitada por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:19.431-05:00  INFO 33548 --- [http-nio-8080-exec-5] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:19.442-05:00  INFO 33548 --- [http-nio-8080-exec-7] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:46:20.200-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por AdminUPB@upb.edu.co
2025-11-14T14:46:20.217-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por AdminUPB@upb.edu.co
2025-11-14T14:46:21.987-05:00  INFO 33548 --- [http-nio-8080-exec-10] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:46:22.009-05:00  INFO 33548 --- [http-nio-8080-exec-1] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:46:23.844-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 12
2025-11-14T14:46:23.860-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "don quijote de la mancha". por AdminUPB@upb.edu.co
2025-11-14T14:46:23.860-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro don quijote de la mancha - miguel de cervantes (ID=12)
2025-11-14T14:46:23.862-05:00  WARN 33548 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:46:23.862-05:00 ERROR 33548 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:46:23.864-05:00  WARN 33548 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:46:34.989-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.BooksImportController  : Solicitud de importación CSV recibida. Nombre de archivo: Libros_de_ejemplo_para_CSV.csv
2025-11-14T14:46:34.992-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Services.BooksImportService        : Iniciando importación CSV de libros: 933 bytes
2025-11-14T14:46:35.001-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Cien años de soledad". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.001-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Cien años de soledad de Gabriel García Márquez (ID=14)
2025-11-14T14:46:35.005-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Rayuela". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.005-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Rayuela de Julio Cortázar (ID=15)
2025-11-14T14:46:35.014-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Pedro Páramo". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.014-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Pedro Páramo de Juan Rulfo (ID=16)
2025-11-14T14:46:35.019-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "1984". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.019-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro 1984 de George Orwell (ID=17)
2025-11-14T14:46:35.023-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Fahrenheit 451". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.023-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Fahrenheit 451 de Ray Bradbury (ID=18)
2025-11-14T14:46:35.027-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "El principito". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.027-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro El principito de Antoine de Saint-Exupéry (ID=19)
2025-11-14T14:46:35.031-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "La sombra del viento". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.031-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro La sombra del viento de Carlos Ruiz Zafón (ID=20)
2025-11-14T14:46:35.035-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "El nombre del viento". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.035-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro El nombre del viento de Patrick Rothfuss (ID=21)
2025-11-14T14:46:35.039-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Crónica de una muerte anunciada". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.039-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Crónica de una muerte anunciada de Gabriel García Márquez (ID=22)
2025-11-14T14:46:35.044-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Orgullo y prejuicio". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.044-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Orgullo y prejuicio de Jane Austen (ID=23)
2025-11-14T14:46:35.047-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "El psicoanalista". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.047-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro El psicoanalista de John Katzenbach (ID=24)
2025-11-14T14:46:35.050-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Ensayo sobre la ceguera". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.051-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Ensayo sobre la ceguera de José Saramago (ID=25)
2025-11-14T14:46:35.054-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se registró el libro "Los juegos del hambre". por AdminUPB@upb.edu.co
2025-11-14T14:46:35.054-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co creó el libro Los juegos del hambre de Suzanne Collins (ID=26)
2025-11-14T14:46:35.054-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Services.BooksImportService        : Importación CSV finalizada. Insertados: 13, duplicados: 1, errores: 0
2025-11-14T14:46:35.066-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:47:26.629-05:00  INFO 33548 --- [http-nio-8080-exec-10] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 14
2025-11-14T14:47:26.648-05:00  INFO 33548 --- [http-nio-8080-exec-10] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "Cien años de soledad". por AdminUPB@upb.edu.co
2025-11-14T14:47:26.648-05:00  INFO 33548 --- [http-nio-8080-exec-10] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro Cien años de soledad - Gabriel García Márquez (ID=14)
2025-11-14T14:47:26.650-05:00  WARN 33548 --- [http-nio-8080-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:47:26.650-05:00 ERROR 33548 --- [http-nio-8080-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:47:26.653-05:00  WARN 33548 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:47:31.707-05:00  INFO 33548 --- [http-nio-8080-exec-1] c.P.B.Controllers.ActividadController    : Listado de actividad solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:47:31.735-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.B.Controllers.ActividadController    : Listado de actividad solicitado por AdminUPB@upb.edu.co (admin: true)
2025-11-14T14:47:33.527-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por AdminUPB@upb.edu.co
2025-11-14T14:47:33.553-05:00  INFO 33548 --- [http-nio-8080-exec-5] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por AdminUPB@upb.edu.co
2025-11-14T14:47:34.047-05:00  INFO 33548 --- [http-nio-8080-exec-7] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:47:34.074-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:48:03.071-05:00  INFO 33548 --- [http-nio-8080-exec-2] c.P.B.Controllers.AuthController         : Solicitud de login recibida para lifeng.chen@upb.edu.co
2025-11-14T14:48:03.149-05:00  INFO 33548 --- [http-nio-8080-exec-2] c.P.BookTrack.Services.AuthService       : Usuario lifeng.chen@upb.edu.co inició sesión
2025-11-14T14:48:09.099-05:00  INFO 33548 --- [http-nio-8080-exec-1] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T14:48:09.118-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T14:48:09.650-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T14:48:09.669-05:00  INFO 33548 --- [http-nio-8080-exec-5] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T14:48:16.490-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.AuthController         : Solicitud de login recibida para lifeng.chen@upb.edu.co
2025-11-14T14:48:16.568-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.AuthService       : Usuario lifeng.chen@upb.edu.co inició sesión
2025-11-14T14:48:19.583-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.AuthController         : Solicitud de login recibida para thomas@upb.edu.com
2025-11-14T14:48:19.683-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.AuthService       : Usuario thomas@upb.edu.com inició sesión
2025-11-14T14:48:23.961-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.B.Controllers.AuthController         : Solicitud de login recibida para AdminUPB@upb.edu.co
2025-11-14T14:48:24.039-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.BookTrack.Services.AuthService       : Usuario AdminUPB@upb.edu.co inició sesión
2025-11-14T14:48:27.345-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.AuthController         : Solicitud de login recibida para AdminUPB@upb.edu.co
2025-11-14T14:48:27.424-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.AuthService       : Usuario AdminUPB@upb.edu.co inició sesión
2025-11-14T14:48:30.720-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.B.Controllers.AuthController         : Solicitud de login recibida para lifeng.chen@upb.edu.co
2025-11-14T14:48:30.799-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.BookTrack.Services.AuthService       : Usuario lifeng.chen@upb.edu.co inició sesión
2025-11-14T14:51:51.268-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T14:51:51.281-05:00  INFO 33548 --- [http-nio-8080-exec-9] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T14:51:58.051-05:00  INFO 33548 --- [http-nio-8080-exec-5] c.P.B.Controllers.AuthController         : Solicitud de login recibida para AdminUPB@upb.edu.co
2025-11-14T14:51:58.131-05:00  INFO 33548 --- [http-nio-8080-exec-5] c.P.BookTrack.Services.AuthService       : Usuario AdminUPB@upb.edu.co inició sesión
2025-11-14T14:52:00.136-05:00  INFO 33548 --- [http-nio-8080-exec-9] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:52:00.146-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T14:52:03.019-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 12
2025-11-14T14:52:03.035-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "don quijote de la mancha". por AdminUPB@upb.edu.co
2025-11-14T14:52:03.035-05:00  INFO 33548 --- [http-nio-8080-exec-3] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro don quijote de la mancha - miguel de cervantes (ID=12)
2025-11-14T14:52:03.037-05:00  WARN 33548 --- [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:52:03.037-05:00 ERROR 33548 --- [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:52:03.039-05:00  WARN 33548 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:52:06.648-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 20
2025-11-14T14:52:06.662-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "La sombra del viento". por AdminUPB@upb.edu.co
2025-11-14T14:52:06.662-05:00  INFO 33548 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro La sombra del viento - Carlos Ruiz Zafón (ID=20)
2025-11-14T14:52:06.664-05:00  WARN 33548 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:52:06.664-05:00 ERROR 33548 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:52:06.665-05:00  WARN 33548 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:52:10.357-05:00  INFO 33548 --- [http-nio-8080-exec-7] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 26
2025-11-14T14:52:10.367-05:00  INFO 33548 --- [http-nio-8080-exec-7] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "Los juegos del hambre". por AdminUPB@upb.edu.co
2025-11-14T14:52:10.367-05:00  INFO 33548 --- [http-nio-8080-exec-7] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro Los juegos del hambre - Suzanne Collins (ID=26)
2025-11-14T14:52:10.368-05:00  WARN 33548 --- [http-nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:52:10.368-05:00 ERROR 33548 --- [http-nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:52:10.369-05:00  WARN 33548 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:52:16.592-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 26
2025-11-14T14:52:16.605-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "Los juegos del hambre". por AdminUPB@upb.edu.co
2025-11-14T14:52:16.605-05:00  INFO 33548 --- [http-nio-8080-exec-8] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro Los juegos del hambre - Suzanne Collins (ID=26)
2025-11-14T14:52:16.606-05:00  WARN 33548 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:52:16.606-05:00 ERROR 33548 --- [http-nio-8080-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:52:16.607-05:00  WARN 33548 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T14:52:21.338-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro con id 16
2025-11-14T14:52:21.349-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "Pedro Páramo". por AdminUPB@upb.edu.co
2025-11-14T14:52:21.349-05:00  INFO 33548 --- [http-nio-8080-exec-6] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co eliminó el libro Pedro Páramo - Juan Rulfo (ID=16)
2025-11-14T14:52:21.350-05:00  WARN 33548 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T14:52:21.350-05:00 ERROR 33548 --- [http-nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T14:52:21.352-05:00  WARN 33548 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`historial_actividad`, CONSTRAINT `FKstsmqxv6v24qru8exm4yugnms` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T15:02:19.203-05:00  INFO 33548 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-14T15:02:19.211-05:00  INFO 33548 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-14T15:02:19.219-05:00  INFO 33548 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-14T15:02:19.224-05:00  INFO 33548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-14T15:02:19.230-05:00  INFO 33548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-14T15:09:31.840-05:00  INFO 37182 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : Starting BookTrackApplication using Java 21.0.7 with PID 37182 (/Users/lifenzito/Book_Track/target/classes started by lifenzito in /Users/lifenzito/Book_Track)
2025-11-14T15:09:31.840-05:00  INFO 37182 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-14T15:09:31.855-05:00  INFO 37182 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-14T15:09:31.855-05:00  INFO 37182 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-14T15:09:32.091-05:00  INFO 37182 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-14T15:09:32.115-05:00  INFO 37182 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 7 JPA repository interfaces.
2025-11-14T15:09:32.321-05:00  INFO 37182 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-14T15:09:32.328-05:00  INFO 37182 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-14T15:09:32.328-05:00  INFO 37182 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-14T15:09:32.341-05:00  INFO 37182 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-14T15:09:32.342-05:00  INFO 37182 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 486 ms
2025-11-14T15:09:32.398-05:00  INFO 37182 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-14T15:09:32.416-05:00  INFO 37182 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-14T15:09:32.426-05:00  INFO 37182 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-14T15:09:32.509-05:00  INFO 37182 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-14T15:09:32.518-05:00  INFO 37182 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-14T15:09:32.597-05:00  INFO 37182 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3561fa4
2025-11-14T15:09:32.598-05:00  INFO 37182 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-14T15:09:32.619-05:00  WARN 37182 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14T15:09:32.619-05:00  WARN 37182 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-14T15:09:32.625-05:00  INFO 37182 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-14T15:09:32.965-05:00  INFO 37182 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-14T15:09:33.040-05:00  INFO 37182 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-14T15:09:33.220-05:00  INFO 37182 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-14T15:09:33.220-05:00  WARN 37182 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14T15:09:33.232-05:00  INFO 37182 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-14T15:09:33.775-05:00  WARN 37182 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14T15:09:33.986-05:00  INFO 37182 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/BookTrack?useSSL=false&serverTimezone=UTC'
2025-11-14T15:09:34.013-05:00  INFO 37182 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-14T15:09:34.026-05:00  INFO 37182 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-14T15:09:34.030-05:00  INFO 37182 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : Started BookTrackApplication in 2.325 seconds (process running for 2.457)
2025-11-14T15:09:47.989-05:00  INFO 37182 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-14T15:09:47.992-05:00  INFO 37182 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-14T15:09:47.996-05:00  INFO 37182 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-14T15:09:47.997-05:00  INFO 37182 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-14T15:09:48.003-05:00  INFO 37182 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-14T15:12:16.352-05:00  INFO 38163 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : Starting BookTrackApplication using Java 21.0.7 with PID 38163 (/Users/lifenzito/Book_Track/target/classes started by lifenzito in /Users/lifenzito/Book_Track)
2025-11-14T15:12:16.353-05:00  INFO 38163 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : No active profile set, falling back to 1 default profile: "default"
2025-11-14T15:12:16.369-05:00  INFO 38163 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-14T15:12:16.369-05:00  INFO 38163 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-14T15:12:16.601-05:00  INFO 38163 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-14T15:12:16.623-05:00  INFO 38163 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 7 JPA repository interfaces.
2025-11-14T15:12:16.811-05:00  INFO 38163 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-14T15:12:16.817-05:00  INFO 38163 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-14T15:12:16.817-05:00  INFO 38163 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-14T15:12:16.827-05:00  INFO 38163 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-14T15:12:16.828-05:00  INFO 38163 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 459 ms
2025-11-14T15:12:16.878-05:00  INFO 38163 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-14T15:12:16.897-05:00  INFO 38163 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-14T15:12:16.908-05:00  INFO 38163 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-14T15:12:16.993-05:00  INFO 38163 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-14T15:12:17.003-05:00  INFO 38163 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-14T15:12:17.063-05:00  INFO 38163 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67383aca
2025-11-14T15:12:17.063-05:00  INFO 38163 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-14T15:12:17.081-05:00  WARN 38163 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14T15:12:17.081-05:00  WARN 38163 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-14T15:12:17.086-05:00  INFO 38163 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-14T15:12:17.400-05:00  INFO 38163 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-14T15:12:17.472-05:00  INFO 38163 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-14T15:12:17.639-05:00  INFO 38163 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-14T15:12:17.639-05:00  WARN 38163 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14T15:12:17.651-05:00  INFO 38163 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-14T15:12:18.146-05:00  WARN 38163 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14T15:12:18.334-05:00  INFO 38163 --- [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/BookTrack?useSSL=false&serverTimezone=UTC'
2025-11-14T15:12:18.357-05:00  INFO 38163 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-14T15:12:18.367-05:00  INFO 38163 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-14T15:12:18.370-05:00  INFO 38163 --- [restartedMain] c.P.BookTrack.BookTrackApplication       : Started BookTrackApplication in 2.147 seconds (process running for 2.271)
2025-11-14T15:12:27.194-05:00  INFO 38163 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-14T15:12:27.194-05:00  INFO 38163 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-14T15:12:27.195-05:00  INFO 38163 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-11-14T15:12:30.028-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T15:12:30.051-05:00  INFO 38163 --- [http-nio-8080-exec-10] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T15:12:34.892-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro 11 por usuario AdminUPB@upb.edu.co (roles=ROLE_ADMIN)
2025-11-14T15:12:34.896-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co (rol=ADMIN) solicitó eliminar el libro 11
2025-11-14T15:12:34.933-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "cien años de soledad". por AdminUPB@upb.edu.co
2025-11-14T15:12:34.933-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co (rol=ADMIN) eliminó el libro cien años de soledad - Gabriel Garcia M (ID=11)
2025-11-14T15:12:35.143-05:00  WARN 38163 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T15:12:35.143-05:00 ERROR 38163 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`reserva`, CONSTRAINT `FKs0btp5fbwnoq9es29m9ndwpt3` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T15:12:35.148-05:00  WARN 38163 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`reserva`, CONSTRAINT `FKs0btp5fbwnoq9es29m9ndwpt3` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T15:12:42.068-05:00  INFO 38163 --- [http-nio-8080-exec-4] c.P.B.Controllers.AuthController         : Solicitud de login recibida para lifeng.chen@upb.edu.co
2025-11-14T15:12:42.211-05:00  INFO 38163 --- [http-nio-8080-exec-4] c.P.BookTrack.Services.AuthService       : Usuario lifeng.chen@upb.edu.co inició sesión
2025-11-14T15:12:48.361-05:00  INFO 38163 --- [http-nio-8080-exec-7] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:12:48.378-05:00  INFO 38163 --- [http-nio-8080-exec-8] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:12:49.659-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:12:49.679-05:00  INFO 38163 --- [http-nio-8080-exec-10] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:12:54.896-05:00  INFO 38163 --- [http-nio-8080-exec-2] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:12:54.912-05:00  INFO 38163 --- [http-nio-8080-exec-3] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:13:00.234-05:00  INFO 38163 --- [http-nio-8080-exec-5] c.P.B.Controllers.ReservaController      : Creación de reserva solicitada por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:13:00.245-05:00  INFO 38163 --- [http-nio-8080-exec-5] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se creó una reserva del libro "don quijote de la mancha" para Lifeng Chen con fecha 2025-11-15. por lifeng.chen@upb.edu.co
2025-11-14T15:13:00.245-05:00  INFO 38163 --- [http-nio-8080-exec-5] c.P.BookTrack.Services.ReservaService    : Reserva creada para libro don quijote de la mancha (12) por lifeng.chen@upb.edu.co
2025-11-14T15:13:02.166-05:00  INFO 38163 --- [http-nio-8080-exec-6] c.P.B.Controllers.ActividadController    : Listado de actividad solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:13:02.184-05:00  INFO 38163 --- [http-nio-8080-exec-7] c.P.B.Controllers.ActividadController    : Listado de actividad solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:13:02.941-05:00  INFO 38163 --- [http-nio-8080-exec-8] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:13:02.962-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.B.Controllers.ReservaController      : Listado de reservas solicitado por lifeng.chen@upb.edu.co (admin: false)
2025-11-14T15:13:07.520-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.B.Controllers.ReservaController      : Cancelación de reserva 4 solicitada por lifeng.chen@upb.edu.co
2025-11-14T15:13:07.531-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.BookTrack.Services.ActividadService  : Actividad registrada: La reserva del libro "don quijote de la mancha" para Lifeng Chen fue cancelada. por lifeng.chen@upb.edu.co
2025-11-14T15:13:07.531-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.BookTrack.Services.ReservaService    : Reserva 4 cancelada por usuario lifeng.chen@upb.edu.co
2025-11-14T15:13:09.722-05:00  INFO 38163 --- [http-nio-8080-exec-4] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:13:09.736-05:00  INFO 38163 --- [http-nio-8080-exec-2] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:13:11.509-05:00  INFO 38163 --- [http-nio-8080-exec-6] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:13:11.538-05:00  INFO 38163 --- [http-nio-8080-exec-7] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:13:13.086-05:00  INFO 38163 --- [http-nio-8080-exec-10] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:13:13.101-05:00  INFO 38163 --- [http-nio-8080-exec-1] c.P.B.Controllers.PrestamoController     : Listado de préstamos solicitado por lifeng.chen@upb.edu.co
2025-11-14T15:13:19.286-05:00  INFO 38163 --- [http-nio-8080-exec-3] c.P.B.Controllers.AuthController         : Solicitud de login recibida para AdminUPB@upb.edu.co
2025-11-14T15:13:19.384-05:00  INFO 38163 --- [http-nio-8080-exec-3] c.P.BookTrack.Services.AuthService       : Usuario AdminUPB@upb.edu.co inició sesión
2025-11-14T15:13:20.351-05:00  INFO 38163 --- [http-nio-8080-exec-7] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T15:13:20.365-05:00  INFO 38163 --- [http-nio-8080-exec-8] c.P.B.Controllers.LibroController        : Listado de libros solicitado por administrador
2025-11-14T15:13:23.326-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.B.Controllers.LibroController        : Solicitud para eliminar libro 11 por usuario AdminUPB@upb.edu.co (roles=ROLE_ADMIN)
2025-11-14T15:13:23.329-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co (rol=ADMIN) solicitó eliminar el libro 11
2025-11-14T15:13:23.336-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.BookTrack.Services.ActividadService  : Actividad registrada: Se eliminó el libro "cien años de soledad". por AdminUPB@upb.edu.co
2025-11-14T15:13:23.337-05:00  INFO 38163 --- [http-nio-8080-exec-9] c.P.BookTrack.Services.LibroService      : Usuario AdminUPB@upb.edu.co (rol=ADMIN) eliminó el libro cien años de soledad - Gabriel Garcia M (ID=11)
2025-11-14T15:13:23.338-05:00  WARN 38163 --- [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1451, SQLState: 23000
2025-11-14T15:13:23.338-05:00 ERROR 38163 --- [http-nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`reserva`, CONSTRAINT `FKs0btp5fbwnoq9es29m9ndwpt3` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))
2025-11-14T15:13:23.341-05:00  WARN 38163 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot delete or update a parent row: a foreign key constraint fails (`booktrack`.`reserva`, CONSTRAINT `FKs0btp5fbwnoq9es29m9ndwpt3` FOREIGN KEY (`id_libro`) REFERENCES `libro` (`id_libro`))] [delete from libro where id_libro=?]; SQL [delete from libro where id_libro=?]; constraint [null]]
2025-11-14T15:14:01.069-05:00  INFO 38163 --- [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-14T15:14:01.078-05:00  INFO 38163 --- [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-14T15:14:01.085-05:00  INFO 38163 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-14T15:14:01.089-05:00  INFO 38163 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-14T15:14:01.094-05:00  INFO 38163 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
